<!doctype html>
<!--[if lt IE 7 ]><html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]><html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]><html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]><html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!-->
<html lang="en" class="no-js"> <!--<![endif]-->
<head>
	<script type="text/javascript">var _sf_startpt = (new Date()).getTime()</script>
	<meta charset="utf-8">
	<!--[if IE]><meta content='IE=8' http-equiv='X-UA-Compatible' /><![endif]-->

	<title>Introduction to Arduino Programming | Lcd</title>
  <meta name="description" content="Arduino  Programming Fundamentals">
  <meta name="author" content="">

  <meta property="og:title" content="Introduction to Arduino Programming" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="shortcut icon" href="/arduino/img/favicon.ico">
	<link rel="apple-touch-icon" href="/arduino/img/apple-touch-icon.png">

	<link rel="stylesheet" href="/arduino/css/p2pustrap-custom.css" />
	<link rel="stylesheet" href="/arduino/css/site.css" />
  

	<link rel="shortcut icon" href="/arduino/img/favicon.ico">
	<script type="text/javascript" src="/arduino/js/modernizr-2.6.2.min.js"></script>
</head>
<body 
      class="">

<!-- Navigation -->
<nav class="navbar navbar-default" role="navigation">

	<!-- Brand and toggle get grouped for better mobile display -->
	<div class="navbar-header">
		<a href="#" class="navbar-toggle" data-toggle="collapse" data-target="#p2pu-menu">
			<i class="fa fa-bars"></i>
		</a>
	</div>

	<!-- Collect the nav links, forms, and other content for toggling -->
	<div class="container">
		<div class="collapse navbar-collapse" id="p2pu-menu">
			<ul class="nav navbar-nav">
				<li>
					<a href="/arduino/"><i class="fa fa-home"></i></a>
				</li>
				
					
					<li class="dropdown  first ">
						<a href="/arduino/modules/module%20one/Introduction/"
						   class="dropdown-item">
							Module One
						</a>
					</li>
				
					
					<li class="dropdown   ">
						<a href="/arduino/modules/two/Introduction/"
						   class="dropdown-item">
							Two
						</a>
					</li>
				
					
					<li class="dropdown   ">
						<a href="/arduino/modules/three/Introduction/"
						   class="dropdown-item">
							Three
						</a>
					</li>
				
					
					<li class="dropdown active  ">
						<a href="/arduino/modules/four/NeoPixel/"
						   class="dropdown-item">
							Four
						</a>
					</li>
				
					
					<li class="dropdown   last">
						<a href="/arduino/modules/resources/community/"
						   class="dropdown-item">
							resources
						</a>
					</li>
				
				
		</div>
		<!-- /.navbar-collapse -->
	</div>
	<!-- /.container-fluid -->
</nav>
<!-- End Navigation -->



<div class="clearfix">
	<div class="sidebar col-md-3">
	







	
		<div class="pagination-section">
			<div class="title">
				Previous module:
			</div>
			<a rel="prev" class="prev" href="/arduino/modules/three/Introduction/">
				Three </a>
		</div>
		<hr />
	
	<ul>
		
			<li class=" first ">
				<a
						href="/arduino/modules/four/NeoPixel/">
					Neopixel
				</a>
			</li>
		
			<li class="active  last">
				<a
						href="/arduino/modules/four/LCD/">
					Lcd
				</a>
			</li>
		
	</ul>
	
		<hr />
		<div class="pagination-section">
			<div class="title">
				Next module:
			</div>
			<a rel="next" class="next" href="/arduino/modules/resources/community/"> resources
			</a>
		</div>
	
</div>
	<div class="col-md-9 background-white">
		<div class="col-md-8 col-md-offset-1">
			<div class="row">
				<div class="content col-lg-12">
					<h2 id="experiment-12">Experiment 12:</h2>

<h1 id="an-oled-lcd-display">An OLED LCD display</h1>

<h3 id="point-summary">Point Summary</h3>

<ul>
  <li>Basics 10xp</li>
  <li>Alleviating End of Semester Stress 10-20xp</li>
  <li>Liberal Arts - 5xp</li>
  <li>Be Be Happy - 15-25xp</li>
  <li>Temperature and Humidity - 20xp</li>
  <li>Sunny Cloudy - 15xp</li>
  <li>Magic 8 Ball 20xp</li>
  <li>Magic 8 Text 15xp</li>
  <li>Too Hot Text - 20xp</li>
</ul>

<p>Since the start of class we’ve been working with LEDs. LED stands for Light Emitting Diode.
In this experiment we are going to work with an OLED display. OLED stands for <strong>Organic Light Emitting Diode</strong>.</p>

<p><img src="pics/feather_oled.jpg" alt="" />
Unless otherwise noted all images are under the Attribution-ShareAlike Creative Commons license by Adafruit.</p>

<h2 id="the-hard-part---wiring-the-circuit">The hard part - Wiring the circuit</h2>

<p>The hardest part of this lab might be getting the wiring correct. Be very careful and check your work. Here is the diagram (the resistor should be 330 ohm):</p>

<p><img src="/arduino/img/lcd1602_bb.png" alt="" /></p>

<p><a href="/arduino/img/lcd1602_bb.png">link to larger image</a></p>

<h2 id="the-basic-code">The Basic Code</h2>

<h3 id="installing-the-library">Installing the library.</h3>

<p>First you need to download the library at <a href="https://github.com/adafruit/Adafruit_FeatherOLED/archive/master.zip">Download Adafruit_FeatherOLED from github</a>. Unzip the file you download and move the resulting folder to your Arduino/libraries folder.</p>

<h3 id="the-basic-code-10xp">The basic code 10xp</h3>

<p>Here is the code:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// include the library code:
#include &lt;LiquidCrystal.h&gt;
// example by Tom Igoe
// initialize the library by associating any needed LCD interface pin
// with the arduino pin number it is connected to
int rs = 12, en = 11, d4 = 5, d5 = 4, d6 = 3, d7 = 2;
LiquidCrystal lcd(rs, en, d4, d5, d6, d7);

void setup() {
  // set up the LCD's number of columns and rows:
  lcd.begin(16, 2);
  // Print a message to the LCD.
  lcd.print("hello, world!");
}

void loop() {
  // set the cursor to column 0, line 1
  // (note: line 1 is the second row, since counting begins with 0):
  lcd.setCursor(0, 1);
  // print the number of seconds since reset:
  lcd.print(millis() / 1000);
}
</code></pre></div></div>

<h3 id="lets-dissect-that-code">Let’s dissect that code</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#include &lt;LiquidCrystal.h&gt;
</code></pre></div></div>

<p>loads the LiquidCrystal library and we’ve seen <code class="highlighter-rouge">#include</code> before.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int rs = 12, en = 11, d4 = 5, d5 = 4, d6 = 3, d7 = 2;
</code></pre></div></div>

<p>We haven’t seen this syntax before. Normally we have been declaring variables like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int led1 = 5;
int led2 = 6;
int led3 = 7;
</code></pre></div></div>

<p>If we are declaring a number of integer variables we can do so all on one line:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int led1 = 5, led2 = 6, led3 = 7;
</code></pre></div></div>

<p>So</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int rs = 12, en = 11, d4 = 5, d5 = 4, d6 = 3, d7 = 2;
</code></pre></div></div>

<p>just sets variables that link the pins on the LCD to pins on the Arduino. We use this in the next line:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>LiquidCrystal lcd(rs, en, d4, d5, d6, d7);
</code></pre></div></div>

<p>which initializes the LCD and gives it the name <code class="highlighter-rouge">lcd</code>.</p>

<p>In the setup procedure we specify how many columns and rows the LCD has. In our case 16 columns and two rows. Next we print the string <em>hello, world!</em> to the LCD.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  lcd.begin(16, 2);
  // Print a message to the LCD.
  lcd.print("hello, world!");
</code></pre></div></div>

<p>In the loop we encounter:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  lcd.setCursor(0, 1);

</code></pre></div></div>

<p>The first number represents the column. So column 0 is the first column. The second represents the row—1 representing the second row. So after we print <em>hello, world!</em> we move to the next line.</p>

<p><code class="highlighter-rouge">millis()</code> is a built in procedure that returns the number of milliseconds that have passed since we started the program. So</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lcd.print(millis() / 1000);
</code></pre></div></div>

<p>will print the number of seconds since the program started, and, since it is in the loop, it keeps incrementing.</p>

<h3 id="remix-1---b-b-b-be-be-happy">Remix 1 - B B B Be Be Happy</h3>

<p>Can you make this Be Happy display?</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/eTTB5SmDzH4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<h4 id="hints">Hints</h4>

<p>The LiquidCrystal library has a procedure <code class="highlighter-rouge">clear()</code> that will clear the display. For example</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lcd.clear()
</code></pre></div></div>

<p>My solution had an array …</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>String msg[] = {"", "B", "Be", "Be ", "Be H", "Be Ha", "Be Hap", ...};
</code></pre></div></div>

<p>and a few <code class="highlighter-rouge">for</code> loops.</p>

<h3 id="remix-2-temp-and-humidity">Remix 2: Temp and Humidity</h3>

<p>Even though the LCD has an amazing amount of connections to our Arduino Uno, there are still some pins left on the Arduino and we can add other components.</p>

<p>ing those buttons we can use those pins for other things.</p>

<h4 id="temperature-sensor">Temperature sensor.</h4>

<p>Let’s <strong>keep the LCD connected+</strong> but temporarily switch to the temperature/humidity sensor included in the kit.</p>

<p><img src="/arduino/img/dht11.jpg" alt="" /></p>

<p>It is wired up this way (again, no need to remove the OLED):</p>

<p><img src="/arduino/img/dht11_bb.png" alt="" />
<a href="/arduino/img/dht11_bb.png">link to larger image</a></p>

<h4 id="the-temperature-sensor-library">The Temperature Sensor library</h4>

<p>In the Arduino IDE under the sketch menu select <strong>Include Library</strong> and then <strong>Manage Libraries…</strong>. Search for <em>DHT</em> and select the item <strong>DHT sensor library</strong> from the list,</p>

<p><img src="/arduino/img/dhtLibrary.png" alt="" /></p>

<p>then click on install and when prompted select install all.</p>

<h4 id="the-code">The code</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#include "DHT.h"

int dhtpin = 4;


DHT dht(dhtpin, DHT11);

void setup() {
  Serial.begin(9600);
  Serial.println("Starting sensor ...");

  dht.begin();
}

void loop() {
  // Wait a few seconds between measurements.
  delay(2000);

  // Reading temperature or humidity takes about 250 milliseconds!
  // Sensor readings may also be up to 2 seconds 'old' (its a very slow sensor)
  float h = dht.readHumidity();
  // Read temperature as Celsius (the default)
  float t = dht.readTemperature();
  // Read temperature as Fahrenheit (isFahrenheit = true)
  float f = dht.readTemperature(true);

  if (isnan(h) || isnan(t) || isnan(f)) {
    Serial.println(F("Failed to read from DHT sensor!"));
    return;
  }

  // Compute heat index in Fahrenheit (the default)
  float hif = dht.computeHeatIndex(f, h);
  // Compute heat index in Celsius (isFahreheit = false)
  float hic = dht.computeHeatIndex(t, h, false);

  Serial.print(F("Humidity: "));
  Serial.print(h);
  Serial.print(F("%  Temperature: "));
  Serial.print(t);
  Serial.print(F("°C "));
  Serial.print(f);
  Serial.print(F("°F  Heat index: "));
  Serial.print(hic);
  Serial.print(F("°C "));
  Serial.print(hif);
  Serial.println(F("°F"));
}
</code></pre></div></div>

<p>When you upload the code and go to the serial monitor you should see…</p>

<p><img src="/arduino/img/tempOutput.png" alt="" /></p>

<p><img src="pics/temp.png" alt="" /></p>

<h4 id="your-task">Your task</h4>

<p>Can you create a device that displays the temperature and humidity on the LCD display?</p>

<h3 id="remix-3-sunny-or-cloudy-15xp">Remix 3: Sunny or Cloudy 15xp</h3>

<p>Can you add another sensor so that your device will also display whether it is sunny or cloudy (in addition to temperature and humidity)? Here are some pictures using previous hardware</p>

<p><img src="/arduino/img/sunnyCloudy.png" alt="" /></p>

<p>I don’t need to see the words <em>hello world</em> I want to see the temperature, humidy, and whether it is cloudy or sunny.</p>

					





					
						<hr />
					
					
						<div class="pagination-section pull-left">
							<div class="title">
								Previous section:
							</div>
							<a rel="prev" class="prev" href="/arduino/modules/four/NeoPixel/">
								Neopixel </a>
						</div>
					
					
				</div>
			</div>
		</div>
	</div>
</div>


<footer class="p2pu-footer">
  <div class="container">
    <div class="row">
      <div class="col-sm-3 col-sm-offset-3">
        <a href="https://inquiryum.com/" class="image-link"
          ><img
            id="cmp-logo"
            src="/arduino/img/inquiryum-logo.png"
            class="img-responsive"
        /></a>
      </div>

      <div class="col-sm-3">
        <a href="https://www.imls.gov" class="image-link"
          ><img src="/arduino/img/footer2.png" class="img-responsive"
        /></a>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-6 col-sm-offset-3" id="p2pu-content">
        <p>
          Built using <a href="http://howto.p2pu.org">Course in a Box</a>, a
          project of
        </p>
        <a href="https://www.p2pu.org" class="image-link"
          ><img
            src="/arduino/img/p2pu-logo-2x-white.png"
            alt="P2PU logo"
        /></a>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-10 col-sm-offset-1 cc-by-sa">
        <img
          src="/arduino/img/cc-icons.png"
          alt="CC-BY-SA Icon"
          class="img-responsive"
        />
        <p>
          Unless otherwise noted, all the materials on this site are licensed
          under a
          <a
            target="_blank"
            href="http://creativecommons.org/licenses/by-sa/4.0/"
          >
            Creative Commons Attribution Share Alike 4.0</a
          >
          Unported license.
        </p>
      </div>
    </div>
  </div>
</footer>


<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script>
  window.jQuery || document.write('<script src="/arduino/js/jquery.min.js"><\/script>')
</script>

<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<script type="text/javascript"
        src="//s3.amazonaws.com/p2pu-navigation-widget/p2pu_menu_slider.js"></script>
<script src="/arduino/js/init.js"></script>
<script src="/arduino/js/gh_link_helper.js"></script>



<script>
	P2PU.ciab.init();
</script>



<!-- Google Analytics -->

	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  
    ga('create', 'UA-5757664-19', 'auto');
  
  
    ga('create', 'UA-55722824-1', 'auto', {'name': 'p2puTracker'} );
  
  
    ga('send', 'pageview');
  
  
    ga('p2puTracker.send', 'pageview');
  
</script>



</body>
</html>
